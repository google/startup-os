<!-- Review Discussion -->
<div>
  <div fxLayout="column" fxLayoutAlign="space-around stretch">
    <div class="discussion-title" fxLayout="row">
      <div class="title" fxFlex="100%">
        Discussion
      </div>
      <div class="action-buttons" 
        fxFlex="212px"
        fxLayoutAlign="end center">
        <div class="expand">
          <button>Expand</button>
        </div>
      </div>
    </div>
    <div class="review-sub-title bold-text">
      General discussions (
        {{ getTotalComments() }} comments, 
        {{ getUnresolvedComments() }} unresolved)
    </div>
  </div>
  <div class="expanded-thread" 	     
    fxLayout="column" 	       
    fxLayout.xs="column" 	       
    fxLayoutGap.xs="10px" 	        
    *ngFor="let thread of diff.getThreadList(); let i = index">	       
    <div fxLayout="row" class="thread-header">     
      <div fxFlex="50%" class="detail">         
        {{ thread.getFile().getFilename() }}	      
      </div>	         
      <div fxFlex="10%" class="line-number-label">	    
        {{ thread.getCommentList().length }} comments
      </div>	
      <div fxFlex="100px" class="line-number-label">	
        Line number:	
      </div>	
      <div fxFlex="10%" class=""> 	
        {{ thread.getLineNumber() }}	
      </div>	
    </div>	      
    <div *ngFor="let comment of thread.getCommentList()" 	
      class="thread-contents">	
      <div class="comment">	
        <div class="content"> 	
          {{ comment.getContent() }} 	
        </div> 	
        <div fxLayout="row" 	
          fxLayoutGap="5px" 	
          class="details">	
          <div> 	
            <span> by </span>	
            {{ authService.getUsername(comment.getCreatedBy()) }} 	
          </div>	
          <div> 	
            <span> on </span> 	
            {{ comment.getTimestamp() |  	
              date:'MMM dd, yyyy HH:mm a' : timezone }}	
          </div>	
        </div>
      </div>
    </div>
  </div>
</div>
